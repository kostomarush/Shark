
#### Введение
В наше время информационные технологии стали неотъемлемой частью различных сфер деятельности. Все больше предприятий и гос. учреждений зависят от автоматизированных систем обработки информации. Этот неоспоримый прогресс сопровождается повышенным вниманием к вопросам информационной безопасности.

В связи с тем, что с каждым годом наблюдается постоянный рост сложности и масштабов автоматизированных систем (АС), выявление различных уязвимостей становится все более трудоемким и сложным процессом. Вследствие этого существует неотложная потребность в разработке и внедрении эффективных средств анализа защищённости или так называемых сканеров безопасности, способные следить за состоянием защищенности сети. **Таким образом, Программное средство распределенного анализа защищенности специализированных автоматизированных систем обработки информации является ответом на решение проблемы эффективного мониторинга состояния защищенности АС.**

#### Разработка системы распределенного анализа защищенности
> Для разработки системы распределенного анализа защищенности были определены **три** основные задачи проектирования:

1. Определение средства сканирования
2. Распределение задач между клиентами
3. Сетевое взаимодействие между сервером и клиентами
##### Определение средства сканирования:
Для решения первой задачи был проведен сравнительный анализ сканеров безопасности по следующим критериям:
1. Бесплатный или ограничения платной версии, подходящие по параметрам.
2. Качественный поиск открытых портов.
3. Работа с IP адресами.
4. Поиск уязвимости – ссылки на CVE базы, уровень угроз по метрике CVSS или аналогичной.
5. Гибкость настроек.
6. Вывод отчёта.

Не каждый продукт на рынке соответствует набору критериев, представленного выше, особенно в сегменте бесплатного ПО. Однако на основе собранных данных из различных ресурсов, было выбрано несколько инструментов анализа защищенности сети для изучения:
1. OpenVas.
2. Gobysec / Goby.
3. Flan Scan.
4. D9scan.
5. Rustscan.
6. Owasp ZAP.
7. W9Scan.
8. Nmap.

*Таблица 1 – Сравнительный анализ сканеров безопасности.*

| Название сканера       | Бесплатный | Сканирование портов | Работа с IP адресами | CVE | Гибкость настроек | Вывод отчета           | Итог                                       |
| ---------------------- | ---------- | ------------------- | -------------------- | --- | ----------------- | ---------------------- | ------------------------------------------ |
| OpenVAS (Free version) | +          | +                   | +                    | +   | -                 | +                      | долгое сканирование и не найдены           |
| Flan Scan              | +          | +                   | +                    | +   | +                 | LaTex, md, html и json | nmap с дружественными отчетами             |
| **D9Scan**             | +          | +                   | +                    | -   | +                 | консоль                | nmap в оболочке python                     |
| Rustscan               | +          | +                   | +                    | +   | +                 | консоль                | nmap с высокой скоростью сканирования      |
| Owasp ZAP              | +          | -                   | +                    | +   | +                 | txt, html              | не поддерживает сканирование по IP адресам |
| **W9Scan**             | +          | -                   | +                    | -   | -                 | -                      |                                            |
| **Nmap**               | +          | +                   | +                    | +   | +                 | +                      | чистый nmap                                |

*В результате проведения анализа было выявлено*, что среди всех сканеров неплохо себя показали: **Flan Scan**, **Rustscan** и **Nmap**. Rustscan достойный сканер безопасности, однако скорость поиска открытых портов нивелируется списком, собранным через API. Другими словами, API позволяет собрать открытые порты, однако целью работы в первую очередь являлось определить не только быстрый сканер, но и качественный. FlanScan – это nmap с функцией создания красивых отчетов и выгрузки их в облако. Однако, не составляет труда реализовать данную функцию на чистом nmap. **Nmap** — это продукт, на котором основаны все сервисы, вышедшие перечисленные выше, а кастомизация поможет для решения задачи по реализации сканера на уязвимости. В заключении можно сказать, что Nmap подходит как нельзя лучше для проведения распределенного сканирования сети.
##### Распределение задач между клиентами

**Основная задача распределения задач между клиентами заключается** в том, что администратор создает задачу на сканирование всей сети, сервер разделяет данную сеть на подсегменты в зависимости от введенной маски. Клиенты распределяют данные задачи между собой, тем самым обеспечивая распределенное сканирование всей сети. За счет чего значительно снижается время затрачиваемое на анализ защищенности всей сети в целом.
![Image alt](https://github.com/kostomarush/Shark/blob/master/resource/1.png)

##### Сетевое взаимодействие между сервером и клиентами

> [!Сравнительный анализ]
> В рамках построения системы распределенного анализа защищенности корпоративной сети, работающая на основе микросеврисов, требуется определить наиболее подходящий архитектурный стиль для API. Преимущественно используемым архитектурным стилем является REST API. Однако при построении API существует три основные модели: RPC (удаленный вызов процедур), REST (передача репрезентативного состояния) и GraphQL. Ниже будут рассмотрены первые две модели.

> Результатом сравнительного анализа является выявление наиболее эффективного архитектурного стиля для взаимодействия клиента и сервера. Объектом анализа будет является общее время обработки запросов двух API архитектур. Результаты сравнительного анализа представлены в *Таблице 2*:

![Image alt](https://github.com/kostomarush/Shark/blob/master/resource/2(2).png)

*Таблица 2 - Сравнительный анализ REST и gRPC API:*

| П./п.                                                           | gRPC         | REST       |
| --------------------------------------------------------------- | ------------ | ---------- |
| Формат сообщения                                                | Protobuf     | JSON/XML   |
| HTTP протокол                                                   | HTTP 2.0     | HTTP 1.1   |
| Встроенная генерация кода                                       | Да           | Нет        |
| Время взаимодействия с базой данных (сохранение/извлечение (с)) | 0,0035/0,001 | 0,005/0,01 |
| Время обработки запросов (c)                                    | 2,01533      | 3,0738     |
На основе проведенных испытаний и полученных результатах, приведенных в таблице 1, можно сказать, что что REST удобен для интеграции микросервисов и сторонних приложений с основными системами. Тем не менее, в проведенных испытаниях, gRPC показал себя лучше, с точки зрения скорости, по сравнению с REST. Следовательно, оценив функции и сценарии реализуемой системы распределенного сканирования, эффективной архитектурой API будет являться именно gRPC. Так как для данной системы, в первую очередь требуется высокая скорость, чего REST обеспечить не может. Также gRPC позволяет организовать взаимодействие сервера с различными клиентами, написанными на разных языках программирования. Внедрение gRPC поможет улучшить качество взаимодействия с клиентами и повысить эффективность передачи сообщений в рамках производительности и масштабируемости.
